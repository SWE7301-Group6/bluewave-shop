{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="row g-4" data-reveal>
  <div class="col-md-6">
    <!-- Image: try .jpg -> then .png -> then placeholder -->
    <img
      src="{% static 'img/products/' %}{{ product.slug }}.jpg"
      alt="{{ product.name }}"
      class="img-fluid rounded shadow-sm"
      onerror="this.onerror=null;this.src='{% static 'img/products/' %}{{ product.slug }}.png'; this.onerror=function(){ this.src='{% static 'img/products/placeholder.jpg' %}'; };"
    >
  </div>
  <div class="col-md-6 d-flex flex-column">
    <h1 class="h3">{{ product.name }}</h1>
    <p class="text-muted">{{ product.description }}</p>
    <div class="mt-auto d-flex align-items-center justify-content-between">
      <span class="display-6 fw-bold">Â£{{ product.price_cents|floatformat:-2 }}</span>
      <a class="btn btn-primary btn-lg" href="/shop/{{ product.slug }}/checkout/">Buy now</a>
    </div>
  </div>
</div>
{% endblock %}
